syntax = "proto3";

package checkin;

option go_package = "github.com/michael/smart-fit/proto/checkin";

import "google/protobuf/timestamp.proto";

// Check-in service gRPC definitions
service CheckInService {
  rpc CreateCheckIn(CreateCheckInRequest) returns (CreateCheckInResponse);
  rpc GetCheckInByID(GetCheckInByIDRequest) returns (GetCheckInByIDResponse);
  rpc GetCheckInsByUser(GetCheckInsByUserRequest) returns (GetCheckInsByUserResponse);
  rpc UpdateCheckIn(UpdateCheckInRequest) returns (UpdateCheckInResponse);
  rpc DeleteCheckIn(DeleteCheckInRequest) returns (DeleteCheckInResponse);
}

// Check-in data structure
message CheckIn {
  int32 id = 1;
  int32 user_id = 2;
  string check_in_type = 3;
  string notes = 4;
  string location = 5;
  google.protobuf.Timestamp created_at = 6;
  google.protobuf.Timestamp updated_at = 7;
}

// Request/Response messages
message CreateCheckInRequest {
  int32 user_id = 1;
  string check_in_type = 2;
  string notes = 3;
  string location = 4;
}

message CreateCheckInResponse {
  CheckIn check_in = 1;
  string error = 2;
}

message GetCheckInByIDRequest {
  int32 id = 1;
}

message GetCheckInByIDResponse {
  CheckIn check_in = 1;
  string error = 2;
}

message GetCheckInsByUserRequest {
  int32 user_id = 1;
  int32 limit = 2;
  int32 offset = 3;
}

message GetCheckInsByUserResponse {
  repeated CheckIn check_ins = 1;
  string error = 2;
}

message UpdateCheckInRequest {
  int32 id = 1;
  string check_in_type = 2;
  string notes = 3;
  string location = 4;
}

message UpdateCheckInResponse {
  CheckIn check_in = 1;
  string error = 2;
}

message DeleteCheckInRequest {
  int32 id = 1;
}

message DeleteCheckInResponse {
  string message = 1;
  string error = 2;
}
